<!DOCTYPE html>
<head>
    <title>Piotr Bujalski</title>
    <meta charset="UTF-8">


<style >
body{
text-align: center;
}
</style>
</head>
<body>
<script>
      function statusChangeCallback(response) {
    console.log('statusChangeCallback');
    console.log(response);

    if (response.status === 'connected') {
      testAPI();
    } else {
      document.getElementById('status').innerHTML = 'Proszę zalogować sie do aplikacji';
        document.getElementById('zdj').innerHTML = "";
    }
  }


  function checkLoginState() {
    FB.getLoginStatus(function(response) {
      statusChangeCallback(response);
    });
  }

  window.fbAsyncInit = function() {
    FB.init({
            appId      : '288771252052702',
            cookie     : true,    
            xfbml      : true,  
            version    : 'v3.2' 
        });


    FB.getLoginStatus(function(response) {
      statusChangeCallback(response);
    });

  };


  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "https://connect.facebook.net/en_US/sdk.js";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));


  function testAPI() {
    console.log('Welcome!  Fetching your information.... ');
    FB.api('/me', function(response) {
      console.log('Successful login for: ' + response.name);
        tekst = '<p style="font-size:25px;">Witamy <b><br /> ' + response.first_name + '<br />'+ response.last_name + '<br />'+ response.id + '<br />'+ response.user_email + ' </b>!</p>'+ '<br />"'+ response.user_profile_pic + '"<br />'+ response.gender + '<br /><img src='+response.picture.data.url +>'!</p>'
      document.getElementById('status').innerHTML = tekst;
      
    });
  }
    
</script>    
    <div id="zdj">
        <fb:login-button scope="public_profile,email" onlogin="checkLoginState();"></fb:login-button>
    </div>
    <div id="status"></div>
<div>
    <hr>
    <div class="piotr"><b>Strona wykonana przez Piotra Bujalskiego</b></div>


        <div style="float: right; margin-top: -30px;">
            <a href="https://validator.w3.org/nu/?doc=https%3A%2F%2Fgortynos.github.io%2Ffb-app%2F">
                <img src="https://www.w3.org/html/logo/badge/html5-badge-h-solo.png" width="63" height="64" alt="HTML5 Powered" title="HTML5 Powered"></a>
        </div>
        <div style="float: right; margin-top: -15px; padding-right: 10px">
            <a href="http://jigsaw.w3.org/css-validator/check/referer">
                <img style="border:0;width:88px;height:31px" src="http://jigsaw.w3.org/css-validator/images/vcss-blue" alt="Valid CSS!" />
            </a>
        </div>


</div>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</body>
</html>
